function p(e,c,i,a){const t=e.hb_subset_input_create_or_fail();if(t===0)throw new Error("hb_subset_input_create_or_fail (harfbuzz) returned zero, indicating failure");const r=e.malloc(i.byteLength);c.set(new Uint8Array(i),r);const f=e.hb_blob_create(r,i.byteLength,2,0,0),o=e.hb_face_create(f,0);e.hb_blob_destroy(f);const l=e.hb_subset_input_set(t,6);e.hb_set_clear(l),e.hb_set_invert(l);const u=e.hb_subset_input_unicode_set(t);for(const s of a)e.hb_set_add(u,s);let _;try{if(_=e.hb_subset_or_fail(o,t),_===0)throw e.hb_face_destroy(o),e.free(r),new Error("hb_subset_or_fail (harfbuzz) returned zero, indicating failure. Maybe the input file is corrupted?")}finally{e.hb_subset_input_destroy(t)}const n=e.hb_face_reference_blob(_),d=e.hb_blob_get_data(n,0),y=e.hb_blob_get_length(n);if(y===0)throw e.hb_blob_destroy(n),e.hb_face_destroy(_),e.hb_face_destroy(o),e.free(r),new Error("Failed to create subset font, maybe the input file is corrupted?");const b=new Uint8Array(c.subarray(d,d+y));return e.hb_blob_destroy(n),e.hb_face_destroy(_),e.hb_face_destroy(o),e.free(r),b}const h={subset:p};export{h as default};
//# sourceMappingURL=hb-subset.bindings-D63WGV9h.js.map
